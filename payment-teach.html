<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/Assests/CSS/style.css">
    <title>payment</title>
</head>
<body>
    <nav class="navbar" style="background-color: #0E1E3E;">
        <div class="navbar-menu">
            <div class="navbar-brand">
                <h1 style="border-bottom: 1px solid #E3E3E5; width: 100%;"><i class="fas fa-graduation-cap"></i>Education</h1>
            </div>
            <a href="/Assests/HTML/Admin/dashboad.html" class="navbar-item"><i class="fas fa-tachometer-alt"></i>DASHBOARD</a>
            <a href="/Assests/HTML/Admin/teacher.html" class="navbar-item"><i class="fas fa-user-tie"></i>TEACHER</a>
            <a href="/Assests/HTML/Admin/student.html" class="navbar-item"><i class="fas fa-user-graduate"></i>STUDENT</a>
            <a href="/Assests/HTML/Admin/Notice.html" class="navbar-item"><i class="fas fa-envelope-open-text"></i>NOTICE</a>
            <a href="/Assests/HTML/Admin/Fee.html" class="navbar-item"><i class="fas fa-dollar-sign"></i>FEE</a> 
            <a href="/Assests/HTML/Admin/Examination.html" class="navbar-item"><i class="fas fa-file-signature"></i>EXAM</a>
            <a href="/Assests/HTML/Admin/Library.html" class="navbar-item"><i class="fas fa-university"></i>LIBRARY</a>
            <a href="/Assests/HTML/Admin/Transport.html" class="navbar-item"><i class="fas fa-bus"></i>TRANSPORT</a>
            <a href="/Assests/HTML/Admin/Staff.html" class="navbar-item"><i class="fas fa-users"></i>STAFF</a>
            <a href="/Assests/HTML/Admin/Parent.html" class="navbar-item"><i class="fas fa-user-friends"></i>PARENT</a>
            <img src="/Assests/IMG/school-kids-clipart-transparent-background-free-png.webp" height="200" width="200">
        </div>
    </nav>
    <!--main content-->
    <section class="main-content">
        <header class="header">
            <div class="container">
              <nav class="nav" style="display: flex; justify-content: space-between; align-items: center;">
                <div class="nav-left" style="margin-right: 1rem;">
                  <a class="nav-item" href="#"><b style="font-size: 30px; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; color: #0E1E3E;">TEACHER</b></a>
                </div>
                <a href="/Assests/HTML/Admin/teacher.html" class="head-item"  id="showAddTeacherBtn">Add Teacher</a>
                <a href="/Assests/HTML/Admin/payment-teach.html" class="head-item" >Payment</a>
                <a href="/Assests/HTML/Admin/notify.html" class="head-item" >Notify</a>
                <a href="#" class="head-item" >Attandance</a>
                <a href="#" class="head-item" >Class Routine</a>
                <a href="#" class="head-item" >Feedback</a>


                <div class="nav-center" style="padding-left: 20px;">
                  <div class="search-bar" style="width: 100%;">
                    <input class="input" type="search" placeholder="Search..." style="width: 500px; border-radius: 0.5rem;">
                  </div>
                </div>
                
                <div class="nav-right" style=" margin-right: -250px;">
                  <a class="nav-item" href="#" style="padding-right: 30px; color: #0E1E3E;">
                    <button class="button">
                      <span class="icon is-small">
                    <i class="fas fa-comment" style="font-size: 25px;"></i>
                    </span>
                    </button>
                  </a>
                  <a class="nav-item" href="#" style="padding-right: 5px; color: #0E1E3E;">
                    <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                    <span class="icon is-small">
                    <i class="fas fa-bell" style="font-size: 25px;"></i>
                      </span>
                  </button>
                </a>
                  <a class="nav-item" href="#" style="padding-right: 100px; color: #0E1E3E;"></a>
                  <div class="dropdown" id="myDropdown">
                    <div class="dropdown-trigger">
                        <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                            <span class="icon is-small">
                                <i class="fas fa-user-circle"></i>
                            </span>
                        </button>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu" role="menu" style="left: -150%;">
                        <div class="dropdown-content">
                            <a href="#" class="dropdown-item">
                                <span class="icon is-small">
                                    <i class="fas fa-user"></i>
                                </span>
                                <span>Profile</span>
                            </a>
                            <a href="#" class="dropdown-item">
                                <span class="icon is-small">
                                    <i class="fas fa-cog"></i>
                                </span>
                                <span>Settings</span>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <span class="icon is-small">
                                    <i class="fas fa-sign-out-alt"></i>
                                </span>
                                <span>Logout</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
          </div>
        </nav>
      </div>
    </header><br><br><br>
    <div class="card">
    <section class="section">
        <div class="container">
            <h1 class="title has-text-centered has-background-dark has-text-white" style="padding: 10px;">Teacher Payment</h1><hr>
            <button class="button is-dark is-outlined" onclick="addPayment()">
                <span class="icon is-small">
                    <i class="fas fa-plus"></i>
                </span>
                <span>Add Payment</span>
            </button>

            <!-- Payment Table -->
            <table class="table is-fullwidth is-striped" id="paymentTable">
                <thead>
                    <tr>
                        <th>Teacher Name</th>
                        <th>Amount</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Payment rows will be added dynamically -->
                </tbody>
            </table>

            <!-- Download Receipt Button -->
            <button class="button" onclick="generatePDF()"> <i class="fas fa-download fa-1x"></i></button>
        </div>
    </section>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">Add Payment</p>
                <button class="delete" aria-label="close" onclick="closeModal()"></button>
            </header>
            <section class="modal-card-body">
                <div class="field">
                    <label class="label">Teacher Name</label>
                    <div class="control">
                        <input class="input" type="text" id="teacherName" placeholder="Enter teacher name">
                    </div>
                </div>
                <div class="field">
                    <label class="label">Amount</label>
                    <div class="control">
                        <input class="input" type="number" id="amount" placeholder="Enter amount">
                    </div>
                </div>
                <div class="field">
                    <label class="label">Date</label>
                    <div class="control">
                        <input class="input" type="date" id="paymentDate">
                    </div>
                </div>
            </section>
            <footer class="modal-card-foot">
                <button class="button has-text-white has-background-dark" onclick="savePayment()" style="position: absolute; left: 20px; bottom: 20px;">Save Payment</button>
                <button class="button has-text-white has-background-dark" onclick="closeModal()" style="position: absolute; right: 20px; bottom: 20px;">Cancel</button>
            </footer>
        </div>
    </div>
</div>




</section>
<script>
    // Function to open the modal for adding a payment
    function addPayment() {
            document.getElementById("paymentModal").classList.add("is-active");
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById("paymentModal").classList.remove("is-active");
        }

        // Function to save the payment to the table
        function savePayment() {
            const teacherName = document.getElementById("teacherName").value;
            const amount = document.getElementById("amount").value;
            const paymentDate = document.getElementById("paymentDate").value;

            if (teacherName && amount && paymentDate) {
                const table = document.getElementById("paymentTable").getElementsByTagName('tbody')[0];

                // Create a new row and cells
                const newRow = table.insertRow();
                const nameCell = newRow.insertCell(0);
                const amountCell = newRow.insertCell(1);
                const dateCell = newRow.insertCell(2);
                const actionCell = newRow.insertCell(3);

                // Fill the cells with data
                nameCell.textContent = teacherName;
                amountCell.textContent = amount;
                dateCell.textContent = paymentDate;
                actionCell.innerHTML = '<button class="button is-danger is-small" onclick="deletePayment(this)">Delete</button>';

                // Clear the modal input fields
                document.getElementById("teacherName").value = '';
                document.getElementById("amount").value = '';
                document.getElementById("paymentDate").value = '';

                closeModal();
            } else {
                alert('Please fill in all fields.');
            }
        }

        // Function to delete a payment row
        function deletePayment(button) {
            const row = button.closest('tr');
            row.remove();
        }

        // Function to generate PDF using jsPDF
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.text("Teacher Payment Receipt", 10, 10);

            const table = document.getElementById("paymentTable");
            let startY = 20;

            // Loop through table rows and cells
            for (let i = 1, row; row = table.rows[i]; i++) {
                const teacherName = row.cells[0].textContent;
                const amount = row.cells[1].textContent;
                const date = row.cells[2].textContent;

                doc.text(`${teacherName} - Rs. ${amount} - ${date}`, 10, startY);
                startY += 10;
            }

            doc.save("payment_receipt.pdf");
        }
</script>
<!-- jsPDF for generating PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="/Assests/JS/app.js"></script>
</body>
</html>